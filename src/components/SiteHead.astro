---
const { title='Brain Higher School', description='IT certification training', canonical } = Astro.props;
const site = Astro.site ?? new URL('https://brainhigherschool.com');
const url = canonical ?? new URL(Astro.url.pathname, site).toString();
const gtm = import.meta.env.PUBLIC_GTM_ID;
const metaPixel = import.meta.env.PUBLIC_META_PIXEL_ID;
---
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<link rel="icon" href="/favicon.svg" type="image/svg+xml" />
<title>{title}</title>
<link rel="canonical" href={url} />
<meta name="description" content={description} />
<meta name="theme-color" content="#f8fafc" />

<meta property="og:title" content={title} />
<meta property="og:description" content={description} />
<meta property="og:type" content="website" />
<meta property="og:url" content={url} />

{gtm && (
  <script is:inline>
    {`(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});
    var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;
    j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','${gtm}');`}
  </script>
)}

{metaPixel && (
  <script is:inline>
    {`!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
    n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');fbq('init','${metaPixel}');fbq('track','PageView');`}
  </script>
  <noscript>
    <img height="1" width="1" style="display:none" alt="" src={`https://www.facebook.com/tr?id=${metaPixel}&ev=PageView&noscript=1`} />
  </noscript>
)}
