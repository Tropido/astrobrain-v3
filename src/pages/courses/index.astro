---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Reveal from '../../components/Reveal.astro';
import { getCollection } from 'astro:content';

const courses = await getCollection('courses');
---
<BaseLayout title="Courses | Brain Higher School" description="Browse all certification preparation programs.">
  <section class="mx-auto max-w-6xl px-4 pt-14 pb-10">
    <Reveal>
      <h1 class="text-4xl font-semibold">All Certifications</h1>
      <p class="mt-3 text-[rgb(var(--muted))]">Use the header mega-menu to browse by vendor → certification.</p>
    </Reveal>

    <div class="mt-6 grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
      {courses.map((c) => (
        <Reveal class="rounded-3xl border border-[rgb(var(--border))] bg-[rgb(var(--panel))] p-6 hover:shadow-sm transition">
          <div class="text-xs text-[rgb(var(--muted))]">{c.data.vendor} · {c.data.level}</div>
          <div class="mt-2 font-semibold leading-snug">{c.data.title}</div>
          <div class="mt-3 text-sm text-[rgb(var(--muted))]">{c.data.outcomes?.[0] ?? 'Skills-first preparation with labs and exam practice.'}</div>
          <div class="mt-5">
            <a class="text-sm font-medium text-[rgb(var(--brand))] hover:underline" href={`/courses/${c.slug}`}>Open landing page →</a>
          </div>
        </Reveal>
      ))}
    </div>
  </section>
</BaseLayout>
